<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
      /* Estilos para el menú sidebar */
      .sidebar {
          height: 150%;
          width: 150px;
          position: fixed;
          top: 0;
          left: -150px; /* Ocultar inicialmente el menú */
          background-color: #acc1e5;
          transition: 0.3s;
      }

      .sidebar a {
          padding: 10px;
          text-decoration: none;
          font-size: 20px;
          color: #1c4b6a;
          display: block;
      }

      .sidebar img {
      width: 120px;
      height: 120px;
      }

      .sidebar a:hover {
          background-color: #acc1e5;
      }

      /* Estilos para el botón de abrir/cerrar el menú */
      .openbtn {
          position: fixed;
          left: 40px;
          top: 40px;
      }

      /* Estilo para el contenido principal (debes ajustar esto para evitar solapamientos) */
      .content {
          margin-left: 10px;
          padding: 20px;
      }

      .content a img {
        position: fixed;
        left: 10px;
        top: 10px;
        width: 120px;
        height: 120px;
        }

        body {
            background-image: url('images/Fondo12.png'); /* Reemplaza 'ruta-de-tu-imagen.jpg' con la ruta correcta de tu imagen */
            background-size: cover; /* Ajusta el tamaño de la imagen para cubrir todo el fondo */
            background-repeat: no-repeat; /* Evita que la imagen se repita */
        }

        .count {
            font-size: 62px;
            height: 0;
            margin-top: 180px; /* Mueve el elemento hacia arriba 50 píxeles */
            width: 150px;

            position: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            top: 50%; /* Centrar verticalmente en todos los dispositivos */
            left: 50%; /* Centrar horizontalmente en todos los dispositivos */
            transform: translate(-50%, -50%); /* Centrar en la mitad de la pantalla */
            color: rgb(31, 39, 78);
                font-family: 'Arial', sans-serif; 
        }

        .empezar {
            font-size: 42px;
            height: 0;
            margin-top: 390px; /* Mueve el elemento hacia arriba 50 píxeles */
            width: 150px;

            position: fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            top: 50%; /* Centrar verticalmente en todos los dispositivos */
            left: 50%; /* Centrar horizontalmente en todos los dispositivos */
            transform: translate(-50%, -50%); /* Centrar en la mitad de la pantalla */
            color: rgb(255, 255, 255);
            font-family: 'Arial', sans-serif; 
            background-color: rgb(31, 39, 78);
        }

        .punto {
        font-size: 42px;
        height: 0;
        margin-top: 20px;
        width: 150px;
   
        padding-top: 50px; /* Cambia el alto del relleno en la parte superior */
        padding-right: 130px; /* Cambia el ancho del relleno en el lado derecho */
        padding-bottom: 45px; /* Cambia el alto del relleno en la parte inferior */
        padding-left: 100px; /* Cambia el ancho del relleno en el lado izquierdo */

        position: fixed;
        display: flex;
        justify-content: center;
        align-items: center;
        top: 10%;
        left: 75%;
        transform: translate(-50%, -50%);
        font-family: 'Arial', sans-serif;
        background-color: rgb(31, 39, 78);
        color: #fff;
        }

        .punto img {
        width: 75px; /* Ajusta el ancho de la imagen según tus necesidades */
        padding: 20px 0; 
        margin-right: 20px; /* Espacio entre la imagen y el texto */
        }

        .punto .contenido {
        flex: 1; /* El contenido ocupa el espacio restante */
        }

      
  </style>
  </head>
    
  <body>
    <div class="sidebar" id="sidebar">
      <a></a> <a></a>  <a></a> <a></a> <a></a> <a></a> <a></a> <a></a>
      <a href="#" onclick="checklist()"><img src="images/listaicono.png" alt="Icono Checklist"></a>
      <a href="#"><img src="images/homeicono.png" alt="Icono Tienda"></a>
      <a href="#"><img src="images/ajustesicono.png" alt="Icono Ajustes"></a>

      <!-- Agrega más íconos o imágenes aquí -->
  </div>

  <div class="content" >
      <!-- Contenido principal de tu página -->
      <a href="#" onclick="toggleSidebar()"><img src="images/logo.png" alt="Botón de menú"></a>
      <!--  <button class="openbtn" onclick="toggleSidebar()">☰</button> -->

  </div>



  <script>
      function toggleSidebar() {
          var sidebar = document.getElementById('sidebar');
          if (sidebar.style.left === '0px') {
              sidebar.style.left = '-250px';
          } else {
              sidebar.style.left = '0px';
          }
      }
  </script>

 <div class="count" id="countdown"> 00:00</div>
 <div class="empezar" >
  <!-- Contenido principal de tu página -->
  <button id="startButton" onclick="startCountdown()">Empezar</button>
</div>

  
<div class="punto">
    <img src="images/Monedas.png" alt="Moneda">
    <div class="puntostexto">
        <p id="puntosTotales">00</p>
    </div>
</div>

<script>
    var countdown;
    var puntosTotales = 0;
    var cicloIniciado = false;
    
    function startCountdown() {
        var timeLeft = 0; // Duración en segundos de la cuenta atrás
        var pomSet = 5; //Duración en segundos de la cuenta atrás del set.                                              Cambiar
        var descanso1 = 3 //Duración del descanso.                                                                      Cambiar
        var descanso2 = 6 //Duración del descanso.  
        var numerosetrealizados = -1;
        var segundostotales = 20; // Duración en segundos totales                                                       Cambiar
        var descansodesactivado = true;                                              

        var display = document.getElementById('countdown');

        function updateDisplay() {             
              
        var minutes = Math.floor(timeLeft / 60);
        var seconds = timeLeft % 60;
        display.textContent = '' + (minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
 
        }


        // Función para manejar la cuenta regresiva
        function countdown() {
            var timer = setInterval(function () {
                updateDisplay();
                

                if (timeLeft === 0) {
                    if ( descansodesactivado) {
                        if (cicloIniciado) {
                            // Suma un punto solo si el ciclo ya ha comenzado
                            puntosTotales++;
                            // Actualiza el texto en el elemento de puntos totales
                            document.getElementById("puntosTotales").textContent = puntosTotales < 10 ? '0' + puntosTotales : puntosTotales;
                        } else {
                            cicloIniciado = true; // Marca el inicio del ciclo
                        }
                        numerosetrealizados++;
                        descansodesactivado = false;
                        timeLeft = pomSet;
                        console.log("Número de sets terminados: " + numerosetrealizados); 

                    } else {
                        // Inicio del ciclo de descanso
                        descansodesactivado = true;

                        if (numerosetrealizados === 4) {
                            // Comienza el segundo ciclo de descanso (descanso2)
                            numerosetrealizados = 0; // Reinicia el número de sets realizados
                            timeLeft = descanso2;
                            console.log("¡Segundo ciclo de descanso!");
                        } else {
                                // Inicio del ciclo de descanso normal (descanso1)
                            timeLeft = descanso1;
                        }
                        //timeLeft = descanso1;
                    }
                }

                if (segundostotales === 0) {
                        clearInterval(timer); // Detén el temporizador cuando se agoten los segundos totales
                        console.log("Cuenta atrás finalizada.");
                        display.textContent = '' + (0 < 10 ? '0' : '') + 0 + ':' + (0 < 10 ? '0' : '') + 0;
                        segundostotales= 0;
                        descansodesactivado = true;
                        numerosetrealizados = -1;
                        cicloIniciado = false; 
                }

                timeLeft--;
                segundostotales--;

            }, 1000);

        }
        countdown();
            
    }
</script>


<script>
    function checklist(){
        window.location.href = "checklist.html";

    }
</script>

    <!--  <h1>Hello, world!</h1> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>